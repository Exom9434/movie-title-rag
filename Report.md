# RAG 시스템을 활용한 영화 제목 번역 정확도 개선

## 1. 프로젝트 배경 및 동기

번역회사 인턴십 중 LLM 기반 자동번역 시스템에서 고유명사(영화 제목, 책 제목 등)를 
임의로 번역하는 문제를 발견했습니다. 예를 들어 "기생충"을 공식 영문 제목인 "Parasite" 
대신 "Parasite Insect"로 직역하는 경우가 빈번했습니다. 특히 신작 영화나 현대미술 
작품의 경우 LLM의 학습 데이터에 포함되지 않아 프롬프트 엔지니어링만으로는 
해결이 어려웠습니다.

이 문제를 Retrieval-Augmented Generation(RAG) 접근법으로 해결한 실무 경험을 
바탕으로, 개인 학습 프로젝트로 영화 제목 번역 시스템을 재구현했습니다.

## 2. 기술적 접근 및 구현 과정

### 2.1 지식 베이스 구축
TMDB API를 활용하여 100개 이상의 한국 영화에 대한 한-영 제목 쌍을 수집했습니다. 
데이터는 CSV 형태로 구조화하여 관리했으며, 향후 확장성을 고려한 설계를 적용했습니다.

### 2.2 임베딩 기반 검색 시스템
OpenAI의 text-embedding-3-small 모델을 사용해 영화 제목들을 벡터화했습니다. 
입력 텍스트와 데이터베이스 간 코사인 유사도를 계산하여 상위 3개의 관련 영화를 
검색하도록 구현했습니다. 이때 유사도 임계값을 0.5로 설정하여 관련성이 낮은 
결과는 제외했습니다.

### 2.3 프롬프트 통합 및 최적화
검색된 영화 정보를 "원문 → 공식 번역" 형태로 System message에 주입했습니다. 
초기에는 LLM이 참조 정보를 무시하는 문제가 있었으나, "You MUST strictly adhere to 
the terminology guidelines" 같은 강한 지시어를 추가하고 Temperature를 0.1로 
낮춰 일관성을 확보했습니다.

### 2.4 성능 최적화
- **임베딩 캐싱**: API 호출 비용 절감을 위해 pickle로 임베딩 결과를 캐싱
- **배치 처리**: 여러 문장을 효율적으로 처리할 수 있는 구조 설계
- **에러 핸들링**: API 실패 시 재시도 로직 및 폴백 메커니즘 구현

## 3. 평가 결과 및 성과

60개의 테스트 케이스를 통해 정량적 평가를 수행했습니다:

| 지표 | 일반 번역 | RAG 번역 | 개선율 |
|------|----------|----------|--------|
| 정확도 | 50.00% | 98.33% | +48.33%p |
| 정답 수 | 30/60 | 59/60 | +29건 |

RAG 도입으로 영화 제목 번역 정확도가 거의 2배 향상되었으며, 단 1건을 제외한 
모든 테스트 케이스에서 정확한 번역을 생성했습니다.

**주요 성공 사례:**
- "기생충은 최고의 영화다" → "Parasite is the best movie" (일반: "Parasite Insect...")
- "부산행을 봤어" → "I watched Train to Busan" (일반: "I watched Busan Trip")
- "올드보이가 명작이지" → "Oldboy is a masterpiece" (일반: "Old Boy...")

## 4. 핵심 인사이트 및 배운 점

### 4.1 RAG의 실전 가치
LLM의 근본적인 한계(환각 현상, 구식 정보, 도메인 지식 부족)를 외부 지식 검색으로 
효과적으로 보완할 수 있음을 확인했습니다. 특히 고유명사나 전문 용어처럼 정확성이 
중요한 영역에서 RAG의 효과가 극대화됩니다.

### 4.2 검색 품질의 중요성
임베딩 모델 선택과 유사도 임계값 설정이 전체 시스템 성능에 결정적인 영향을 
미쳤습니다. 여러 임베딩 모델을 실험한 결과 text-embedding-3-small이 
비용 대비 성능이 가장 우수했으며, 임계값 0.5가 최적임을 발견했습니다.

### 4.3 프롬프트 설계의 기술
- 강한 지시어("MUST", "strictly")가 LLM의 지시 준수율을 크게 향상
- System message와 User message의 역할 분리로 안정성 증가
- Temperature 조절을 통한 출력 일관성 확보

### 4.4 실무 적용 시 고려사항
- **비용 최적화**: 임베딩 캐싱으로 API 호출 최소화
- **확장성**: 데이터베이스 구조를 모듈화하여 다른 도메인으로 쉽게 확장 가능
- **유지보수**: 신작 영화 추가 시 자동 업데이트 파이프라인 필요

## 5. NC소프트 AI 팀 업무 연계

이 프로젝트에서 개발한 RAG 기술은 NC소프트 AI 팀의 핵심 업무와 직접 연결됩니다:

- **게임 NPC 대화 시스템**: 게임 세계관 정보를 검색하여 일관성 있는 대화 생성
- **사용자 문의 응답**: 게임 가이드 문서를 검색하여 정확한 답변 제공
- **콘텐츠 생성**: 기존 게임 데이터를 참조하여 새로운 퀘스트나 스토리 생성

특히 검색 결과 기반 생성(Retrieval Augmented Generation)과 프롬프트 엔지니어링 
경험은 공고에 명시된 "RAG 기술 연구" 및 "생성형 대화 모델 개발" 업무에 
즉시 활용 가능합니다.

## 6. 향후 발전 방향

- **다국어 지원**: 일본어, 중국어 영화로 확장
- **실시간 업데이트**: 신작 영화 자동 수집 파이프라인 구축
- **도메인 확장**: 드라마, 책, 게임 타이틀 등으로 적용 범위 확대
- **하이브리드 검색**: BM25와 Dense Retrieval 결합으로 검색 품질 향상

---

**프로젝트 저장소**: https://github.com/your-username/movie-title-rag
**기술 스택**: Python, OpenAI API, TMDB API, scikit-learn, Streamlit
**개발 기간**: 2025년 10월 (3일)